<?xml version="1.0" encoding="UTF-8"?>
<addons>
    <addon id="plugin.video.fanvodpl"
           name="Fan Vod PL"
           version="1.0.0"
           provider-name="gpt">
        <requires>
            <import addon="xbmc.python" version="3.0.0"/>
            <!-- Require the PTW module so Kodi will pull it in automatically -->
            <import addon="script.module.ptw" version="2025.08.17"/>
            <import addon="script.module.requests"/>
            <import addon="script.module.metahandler" version="5.0.0"/>
            <import addon="script.module.beautifulsoup4"/>
            <import addon="script.module.future"/>
            <import addon="plugin.video.youtube" optional="true"/>
            <import addon="script.module.resolveurl"/>
            <import addon="script.module.six"/>
            <import addon="script.module.kodi-six"/>
            <import addon="script.module.kover" version="0.0.6"/>
            <!-- These two FanFilm modules are optional; remove them if you don't have them in your repo -->
            <import addon="script.fanfilm.media" version="2022.12.29.0" optional="true"/>
            <import addon="script.fanfilm.metadata" version="2021.03.07.0"/>
        </requires>

        <!-- Register the main plugin entry point -->
        <extension point="xbmc.python.pluginsource" library="default.py">
            <provides>video</provides>
        </extension>

        <!-- Start background service on Kodi startup -->
        <extension point="xbmc.service" library="service.py" start="startup"/>

        <!-- Add context menu item for searching within the TV guide -->
        <extension point="kodi.context.item">
          <menu id="kodi.core.main">
            <item library="epg.py">
              <label lang="pl">Szukaj w Fan Vod PL</label>
              <visible>Window.IsVisible(tvguide)|Window.IsVisible(tvsearch)|Window.IsVisible(tvchannels)</visible>
            </item>
          </menu>
        </extension>

        <!-- Metadata describing the add-on -->
        <extension point="xbmc.addon.metadata">
            <reuselanguageinvoker>true</reuselanguageinvoker>
            <summary lang="pl">Fan Vod PL</summary>
            <description lang="pl">Plugin z filmami i serialami (fork FanFilm).</description>
            <platform>all</platform>
            <assets>
                <icon>icon.png</icon>
                <fanart>fanart.jpg</fanart>
                <thumb>resources/media/icon-about.png</thumb>
            </assets>
        </extension>
    </addon>
    <addon id="script.module.ptw" name="PTW Module" version="2025.08.17" provider-name="PTW(gpt)">
        <requires>
            <import addon="xbmc.python" version="3.0.0"/>
            <import addon="script.module.beautifulsoup4"/>
            <import addon="script.module.requests"/>
            <import addon="script.module.resolveurl"/>
            <import addon="script.module.six"/>
            <import addon="script.module.kodi-six"/>
            <import addon="script.module.pyxbmct"/>
            <import addon="script.module.future"/>
            <import addon="script.module.js2py" version="0.7.0"/>
            <import addon="plugin.video.youtube" optional="true"/>
            <import addon="script.module.kover" version="0.0.6"/>
        </requires>
        <extension point="xbmc.python.module" library="lib"/>
        <extension point="xbmc.addon.metadata">
            <platform>all</platform>
            <summary lang="en">PTW</summary>
        </extension>
    </addon>
    <addon id="repository.fanvodpl" name="Fan Vod PL Repo" version="1.0.0" provider-name="gpt">
        <extension point="xbmc.addon.repository" name="Fan Vod PL Repo">
            <info>https://ffmodgpt5.github.io/Fan-Vod-Pl/FanVodRepo/addons.xml</info>
            <checksum>https://ffmodgpt5.github.io/Fan-Vod-Pl/FanVodRepo/addons.xml.md5</checksum>
            <datadir>https://ffmodgpt5.github.io/Fan-Vod-Pl/FanVodRepo/zips/</datadir>
        </extension>
        <extension point="xbmc.addon.metadata">
            <summary lang="pl">Repozytorium Fan Vod PL</summary>
            <description lang="pl">Repozytorium z wtyczką Fan Vod PL i modułem PTW.</description>
            <platform>all</platform>
        </extension>
    </addon>
</addons>
